<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>LMY-HOME</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">

    <!-- highlight.js -->
    <link rel="stylesheet" href="//libs.cncdn.cn/highlight.js/8.4/styles/tomorrow.min.css">
    <script src="//libs.cncdn.cn/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- CSS -->                       
    <link rel="stylesheet" href="/statics/css/index.css">
</head>

<body>
    
    <div class="wrap">          
    <!--HEADER-->
<div class="header">
    <div class="logo"> <a href="/index.html"><img src="/images/logo.png" alt=""></a> </div>
    <div class="cssmenu">
        <ul>
            <li><a href="/index.html">HOME</a></li>       
            <li><a href="/blog/">BLOG</a></li>
            <li><a href="/demo/">DEMO</a></li>
            <li><a href="/about/">ABOUT</a></li>
            <li><a href="http://limingyang2012.github.io/cv/">RESUME</a></li>
        </ul>
    </div>
    <div class="top-nav">
        <nav class="clearfix">
            <ul>
                <li><a href="/index.html">HOME</a></li>
                <li><a href="/blog/">BLOG</a></li>
                <li><a href="/demo/">DEMO</a></li>
                <li><a href="/about/">ABOUT</a></li>
                <li><a href="http://limingyang2012.github.io/cv/">RESUME</a></li>
            </ul>
        <a href="#" id="pull">MENU</a> 
        </nav>
    </div>
</div>    
        <div id="container">
    <div class="content">
        <div class="page">
            <div class="post-content">
    <div class="title"><h1>（转）妙味课堂——JS面向对象</h1></div>
    <p class="post-date">Oct 10, 2015</p>
                    
     <p>JS面向对象学习笔记</p>

<hr />

<ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">什么是面向对象编程</a>    <ul>
      <li><a href="#oop" id="markdown-toc-oop">面向对象编程（OOP）的特点</a></li>
      <li><a href="#section-1" id="markdown-toc-section-1">对象的组成</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">创建第一个面向对象程序</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">工厂方式</a></li>
      <li><a href="#prototype" id="markdown-toc-prototype">原型 —— prototype</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">面向对象的选项卡</a></li>
      <li><a href="#section-5" id="markdown-toc-section-5">面向对象的拖拽</a></li>
      <li><a href="#section-6" id="markdown-toc-section-6">本课练习</a></li>
    </ul>
  </li>
  <li><a href="#section-7" id="markdown-toc-section-7">高级面向对象</a>    <ul>
      <li><a href="#section-8" id="markdown-toc-section-8">包装对象</a></li>
      <li><a href="#section-9" id="markdown-toc-section-9">原型链</a></li>
      <li><a href="#section-10" id="markdown-toc-section-10">面向对象的一些属性和方法</a>        <ul>
          <li><a href="#hasownproperty" id="markdown-toc-hasownproperty">hasOwnProperty()</a></li>
          <li><a href="#constructor" id="markdown-toc-constructor">constructor</a></li>
          <li><a href="#instanceof" id="markdown-toc-instanceof">instanceof</a></li>
          <li><a href="#tostring" id="markdown-toc-tostring">toString()</a></li>
        </ul>
      </li>
      <li><a href="#section-11" id="markdown-toc-section-11">对象的继承</a></li>
      <li><a href="#section-12" id="markdown-toc-section-12">组件开发</a></li>
    </ul>
  </li>
  <li><a href="#section-13" id="markdown-toc-section-13">妙味综合案例</a>    <ul>
      <li><a href="#section-14" id="markdown-toc-section-14">图片放大镜效果</a></li>
      <li><a href="#section-15" id="markdown-toc-section-15">苹果菜单</a></li>
      <li><a href="#section-16" id="markdown-toc-section-16">妙味照片墙效果</a></li>
    </ul>
  </li>
  <li><a href="#section-17" id="markdown-toc-section-17">抄袭链接：</a></li>
</ul>

<h2 id="section">什么是面向对象编程</h2>

<ul>
  <li>用对象的思想去写代码，就是面向对象编程
    <ul>
      <li>过程式写法</li>
      <li>面向对象写法</li>
    </ul>
  </li>
  <li>我们一直都在使用对象
    <ul>
      <li>数组Array 时间Date</li>
    </ul>
  </li>
</ul>

<h3 id="oop">面向对象编程（OOP）的特点</h3>
<ul>
  <li>抽象：抓住核心问题</li>
  <li>封装：只能通过对象来访问方法</li>
  <li>继承：从已有对象上继承出新的对象</li>
  <li>多态：多对象的不同形态</li>
</ul>

<h3 id="section-1">对象的组成</h3>

<ul>
  <li>方法（行为、操作） —— 对象下面的函数：过程、动态的</li>
  <li>属性 —— 对象下面的变量：状态、静态的</li>
</ul>

<h3 id="section-2">创建第一个面向对象程序</h3>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//var obj = {};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span> <span class="c1">//创建了一个空的对象</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'小明'</span><span class="p">;</span> <span class="c1">//属性</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">//方法</span>
	<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>
</code></pre>
</div>

<ul>
  <li>为对象添加属性和方法
    <ul>
      <li>Object对象</li>
      <li>this指向</li>
      <li>创建两个对象：重复代码过多</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//var obj = {};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span> <span class="c1">//创建了一个空的对象</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'小明'</span><span class="p">;</span> <span class="c1">//属性</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">//方法</span>
	<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span> 

<span class="nx">obj2</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'小强'</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">obj2</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>
</code></pre>
</div>

<h3 id="section-3">工厂方式</h3>

<ul>
  <li>面向对象中的封装函数</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//工厂方式：封装函数</span>

<span class="kd">function</span> <span class="nx">createPerson</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
    <span class="c1">//1. 原料</span>
	<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
	
	<span class="c1">//2. 加工</span>
	<span class="nx">obj</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
	<span class="nx">obj</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
	<span class="p">};</span>
	
	<span class="c1">//3. 出厂</span>
	<span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="nx">createPerson</span><span class="p">(</span><span class="s1">'小明'</span><span class="p">);</span>
<span class="nx">p1</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="nx">createPerson</span><span class="p">(</span><span class="s1">'小强'</span><span class="p">);</span>
<span class="nx">p2</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>
</code></pre>
</div>

<ul>
  <li>改成与系统对象类似的写法
    <ul>
      <li>首字母大写</li>
      <li>New关键字提取</li>
      <li>this指向为新创建的对象</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/* 当new去调用一个函数：这个时候函数中的this就是创建出来的对象，而且函数的返回值直接就是this啦。（这叫做隐式返回） */</span>

<span class="c1">// new后面调用的函数：构造函数</span>

<span class="kd">function</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
	<span class="p">};</span>
	<span class="c1">// return obj; 隐式返回，所以这一行不用写了</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="s1">'小明'</span><span class="p">);</span>
<span class="nx">p1</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="s1">'小强'</span><span class="p">);</span>
<span class="nx">p2</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>
</code></pre>
</div>

<ul>
  <li>构造函数
    <ul>
      <li>用来创建对象的函数，叫做构造函数</li>
    </ul>
  </li>
  <li>存在的问题
    <ul>
      <li>对象的引用</li>
      <li>浪费内存</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/* 当new去调用一个函数：这个时候函数中的this就是创建出来的对象，而且函数的返回值直接就是this啦。（这叫做隐式返回） */</span>

<span class="c1">// new后面调用的函数：构造函数</span>

<span class="kd">function</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
	<span class="p">};</span>
	<span class="c1">// return obj; 隐式返回，所以这一行不用写了</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="s1">'小明'</span><span class="p">);</span>
<span class="nx">p1</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="s1">'小强'</span><span class="p">);</span>
<span class="nx">p2</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>

<span class="c1">//alert(p1.showName == p2.showName); //false</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cm">/*
	var a = [1, 2, 3];
	var b = [1, 2, 3];

	alert(a == b); //false;
*/</span>

<span class="cm">/*
	var a = 5;
	var b = a;
	b += a;
	alert(b); //8
	alert(a); //5 基本类型：赋值的时候只是值的复制
*/</span>

<span class="cm">/*
	var a = [1, 2, 3]; 
	var b = a; 
	b.push(4);
	alert(b); //[1, 2, 3, 4]
	alert(a); //[1, 2, 3, 4] 对象类型：赋值不仅是值的复制，而且也是引用的传递
*/</span>

<span class="cm">/*
	var a = [1, 2, 3];
	var b = a;
	b = [1, 2, 3, 4];
	alert(b); //[1, 2, 3, 4]
	alert(a); //[1, 2, 3] 只要赋值就会在内存中重新生成，所以a，b互补影响
*/</span>

<span class="cm">/*
	var a = 5;
	var b = 5;
	alert(a == b); //true 基本类型的比较：只要值相同就可以
*/</span>

<span class="cm">/*
	var a = [1, 2, 3];
	var b = [1, 2, 3];
	alert(a == b); //false 对象类型：值和引用都相同才行
*/</span>

<span class="cm">/*
	var a = [1, 2, 3];
	var b = a;
	alert(a == b); //true
*/</span>
</code></pre>
</div>

<h3 id="prototype">原型 —— prototype</h3>

<ul>
  <li>概念
    <ul>
      <li>去改写对象下面公用的方法或者属性，让公用的方法或者属性在内存中仅存在一份（好处：提高性能）</li>
    </ul>
  </li>
  <li>学习原型
    <ul>
      <li>类比：原型就是CSS中的class（普通方法就是CSS中的style）</li>
      <li>普通方法的优先级比原型要高</li>
      <li>原型可以复用，普通方法不可以复用</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span> 
<span class="nx">arr</span><span class="p">.</span><span class="nx">number</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">number</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">number</span><span class="p">);</span> <span class="c1">//10 普通方法的优先级高于原型</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//原型：prototype：要写在构造函数下面</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
		<span class="nx">result</span> <span class="o">+=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*
arr.sum = function(){
	var result = 0;
	for(var i=0; i&lt;this.length; i++){
		result += this[i];
	}
	return result;
}

alert(arr.sum()); //15
*/</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">sum</span><span class="p">());</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">arr2</span><span class="p">.</span><span class="nx">sum</span><span class="p">());</span>
</code></pre>
</div>

<ul>
  <li>通过原型改写工厂方式
    <ul>
      <li>原则：
        <ul>
          <li>相同的属性和方法可以加在原型上</li>
          <li>混合的编程模式</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span> <span class="c1">//变化的，不能公用的属性不能写在原型上</span>
<span class="p">}</span>
<span class="nx">CreatePerson</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
	<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>	

<span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="s1">'小明'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="s1">'小强'</span><span class="p">);</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">p1</span><span class="p">.</span><span class="nx">showName</span> <span class="o">==</span> <span class="nx">p2</span><span class="p">.</span><span class="nx">showName</span><span class="p">);</span> <span class="c1">//true</span>
</code></pre>
</div>

<p><strong>混合的编程模式</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//面向对象的写法</span>
<span class="kd">function</span> <span class="err">构造函数</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="err">属性</span>
<span class="p">}</span>
<span class="err">构造函数</span><span class="p">.</span><span class="err">原型</span><span class="p">.</span><span class="err">方法</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){};</span>

<span class="c1">//面向对象的使用</span>
<span class="kd">var</span> <span class="err">对象</span><span class="mi">1</span> <span class="o">=</span> <span class="k">new</span> <span class="err">构造函数</span><span class="p">();</span>
<span class="err">对象</span><span class="mi">1</span><span class="p">.</span><span class="err">方法</span><span class="p">();</span>
</code></pre>
</div>

<ul>
  <li>总结面向对象写法
    <ul>
      <li>构造函数加属性，原型加方法</li>
    </ul>
  </li>
</ul>

<h3 id="section-4">面向对象的选项卡</h3>

<ul>
  <li>原则
    <ul>
      <li>先写出普通的写法，然后改成面向对象写法
        <ul>
          <li>普通方法变型
            <ul>
              <li>尽量不要出现函数嵌套函数</li>
              <li>可以有全局变量</li>
              <li>把onload中不是赋值的语句放到单独的函数中</li>
            </ul>
          </li>
          <li>改成面向对象
            <ul>
              <li>全局变量就是属性</li>
              <li>函数就是方法</li>
              <li>onload中创建对象</li>
              <li>改this指向问题，要尽量让面向对象中的this指向对象</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><strong>先写出普通方法</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象的选项卡<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="nt">div</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#000</span><span class="p">;</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> <span class="p">}</span>
		<span class="nc">.active</span> <span class="p">{</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="p">}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">oParent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">aInput</span> <span class="o">=</span> <span class="nx">oParent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">aDiv</span> <span class="o">=</span> <span class="nx">oParent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>

			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
				<span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
						<span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
						<span class="nx">aDiv</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'none'</span><span class="p">;</span>
					<span class="p">}</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'active'</span><span class="p">;</span>
					<span class="nx">aDiv</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'block'</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>11111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>22222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>33333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>普通方法变型</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象的选项卡<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="nt">div</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#000</span><span class="p">;</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> <span class="p">}</span>
		<span class="nc">.active</span> <span class="p">{</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="p">}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>

		<span class="kd">var</span> <span class="nx">oParent</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">aInput</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">aDiv</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nx">oParent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="nx">aInput</span> <span class="o">=</span> <span class="nx">oParent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>
			<span class="nx">aDiv</span> <span class="o">=</span> <span class="nx">oParent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>

			<span class="nx">init</span><span class="p">();</span>
			
		<span class="p">};</span>

		<span class="kd">function</span> <span class="nx">init</span><span class="p">(){</span> <span class="c1">//初始化的函数方法</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
				<span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">change</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">change</span><span class="p">(){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
				<span class="nx">aDiv</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'none'</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'active'</span><span class="p">;</span>
			<span class="nx">aDiv</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'block'</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="cm">/*
		- 普通方法变型
            - 尽量不要出现函数嵌套函数
            - 可以有全局变量
            - 把onload中不是赋值的语句放到单独的函数中
        */</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>11111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>22222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>33333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>关于this的指向</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nx">oDiv</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nl">this</span><span class="p">:</span> <span class="nx">oDiv</span>
<span class="p">};</span>

<span class="o">---</span>

<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="nx">show</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">show</span><span class="p">(){</span>
    <span class="nl">this</span><span class="p">:</span> <span class="nx">oDiv</span>
<span class="p">}</span>

<span class="o">---</span>

<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">show</span><span class="p">();</span>
<span class="p">};</span>
<span class="kd">function</span> <span class="nx">show</span><span class="p">(){</span>
    <span class="nl">this</span><span class="p">:</span> <span class="nb">window</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>改写成面向对象</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象bianxie<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="nt">div</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#000</span><span class="p">;</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> <span class="p">}</span>
		<span class="nc">.active</span> <span class="p">{</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="p">}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>

		<span class="kd">var</span> <span class="nx">oParent</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">aInput</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">aDiv</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			
			<span class="kd">var</span> <span class="nx">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tab</span><span class="p">();</span>
			<span class="nx">t1</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
			
		<span class="p">};</span>

		<span class="kd">function</span> <span class="nx">Tab</span><span class="p">(){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oParent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">oParent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">oParent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">change</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
				<span class="p">};</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">change</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'none'</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nx">obj</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'active'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">[</span><span class="nx">obj</span><span class="p">.</span><span class="nx">index</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'block'</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="cm">/*
		- 改成面向对象
            - 全局变量就是属性
            - 函数就是方法
            - onload中创建对象
            - 改this指向问题：注意事件或者是定时器里面的this。要尽量保持面向对象中的this指向对象
        */</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>11111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>22222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>33333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>面向对象的复用</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象bianxie<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="nt">div</span><span class="o">,</span> <span class="nf">#div2</span> <span class="nt">div</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#000</span><span class="p">;</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span> <span class="p">}</span>
		<span class="nc">.active</span> <span class="p">{</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="p">}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>

		<span class="kd">var</span> <span class="nx">oParent</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">aInput</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">aDiv</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			
			<span class="kd">var</span> <span class="nx">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tab</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="nx">t1</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>

			<span class="kd">var</span> <span class="nx">t2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tab</span><span class="p">(</span><span class="s1">'div2'</span><span class="p">);</span>
			<span class="nx">t2</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
			<span class="nx">t2</span><span class="p">.</span><span class="nx">autoplay</span><span class="p">();</span>
			
		<span class="p">};</span>

		<span class="kd">function</span> <span class="nx">Tab</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oParent</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">oParent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">oParent</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">iNow</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">change</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
				<span class="p">};</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">change</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'none'</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nx">obj</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'active'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">[</span><span class="nx">obj</span><span class="p">.</span><span class="nx">index</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'block'</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">autoplay</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">This</span><span class="p">.</span><span class="nx">iNow</span> <span class="o">==</span> <span class="nx">This</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">){</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">iNow</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">iNow</span> <span class="o">++</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">This</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'none'</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="nx">This</span><span class="p">.</span><span class="nx">aInput</span><span class="p">[</span><span class="nx">This</span><span class="p">.</span><span class="nx">iNow</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'active'</span><span class="p">;</span>
				<span class="nx">This</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">[</span><span class="nx">This</span><span class="p">.</span><span class="nx">iNow</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'block'</span><span class="p">;</span>
			<span class="p">},</span> <span class="mi">2000</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>11111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>22222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>33333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>

	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>11111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>22222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>33333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="section-5">面向对象的拖拽</h3>

<ul>
  <li>注意
    <ul>
      <li>Event对象（event对象一定要写到事件函数里面）</li>
      <li>事件函数中用来阻止默认行为的return false也要写到事件函数里面</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象编写拖拽<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="p">{</span> <span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="p">}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>

	<span class="cm">/* 普通拖拽
		window.onload = function(){
			var oDiv = document.getElementById('div1');
			var disX = 0;
			var disY = 0;

			oDiv.onmousedown = function(ev){
				var ev = ev || window.event;

				disX = ev.clientX - oDiv.offsetLeft;
				disY = ev.clientY - oDiv.offsetTop;

				document.onmousemove = function(ev){
					var ev = ev || window.event;

					oDiv.style.left = ev.clientX - disX + 'px';
					oDiv.style.top = ev.clientY - disY + 'px';
				}

				document.onmouseup = function(){
					document.onmousemove = null;
					document.onmouseup = null;
				}

				return false;

			}
		}
	*/</span>

	<span class="cm">/* 第一步：普通方法变型
	//先变型
		var oDiv = null;
		var disX = 0;
		var disY = 0;

		window.onload = function(){
			oDiv = document.getElementById('div1');
			init();			
		}

		function init(){
			oDiv.onmousedown = fnDown;
		}

		function fnDown(ev){
			var ev = ev || window.event;

				disX = ev.clientX - oDiv.offsetLeft;
				disY = ev.clientY - oDiv.offsetTop;

				document.onmousemove = fnMove;
				document.onmouseup = fnUp;

				return false;
		}

		function fnMove(ev){
			var ev = ev || window.event;

			oDiv.style.left = ev.clientX - disX + 'px';
			oDiv.style.top = ev.clientY - disY + 'px';
		}

		function fnUp(){
			document.onmousemove = null;
			document.onmouseup = null;
		}
		*/</span>

		<span class="c1">//改成面向对象</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">d1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="nx">d1</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>			
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">Drag</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">dixY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
				<span class="nx">This</span><span class="p">.</span><span class="nx">fnDown</span><span class="p">(</span><span class="nx">ev</span><span class="p">);</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">};</span>
		<span class="p">}</span>

		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnDown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">)</span> <span class="p">{</span>
			<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

				<span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>

				<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
					<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">fnMove</span><span class="p">(</span><span class="nx">ev</span><span class="p">);</span>
				<span class="p">};</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">fnUp</span><span class="p">;</span>			
		<span class="p">}</span>

		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnMove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnUp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="section-6">本课练习</h3>

<ol>
  <li>为数组对象添加求和，最大值</li>
  <li>为字符串对象添加判断是不是最后一个字母</li>
  <li>面向对象的选项卡</li>
  <li>给选项卡添加一个自动播放的方法</li>
  <li>任意学过的效果改写成面向对象</li>
  <li>面向对象的面试题</li>
</ol>

<h2 id="section-7">高级面向对象</h2>

<h3 id="section-8">包装对象</h3>

<ul>
  <li>JS基于原型的程序</li>
  <li>String Number Boolean</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>	

	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>

	<span class="cm">/*
		function Aaa(){
			this.name='小明';
		}

		Aaa.prototype.showName=function(){
			alert(this.name);
		}

		var a1 = new Aaa();
		a1.showName();

		var arr = new Array();
		arr.push();
		arr.sort();

		// 在js源码中：系统对象也是基于原型的程序

		function Array(){
			this.length = 0;
		}

		Array.prototype.push = function(){};
		Array.prototype.sort = function(){};
	*/</span>

	<span class="c1">//尽量不要去修改或添加系统对象下面的方法和属性</span>
	<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
	<span class="c1">//Arr.prototype.push = function(){}; //加上这句话，就修改了源码中的push方法，那么后面那一句中的4、5、6就添加不进去了</span>
	<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">//自己写一个数组的push方法</span>
		<span class="c1">//this : 1, 2, 3</span>
		<span class="c1">//arguments: 4, 5, 6</span>

		<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
			<span class="k">this</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
		<span class="p">}</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
	<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>给基本类型添加方法</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>	

	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
	<span class="cm">/*
		var str = 'hello';
		alert( typeof str); //string
		str.charAt(0); //字符串为什么下面会有方法呢？
		str.indexOf('e');
	*/</span>

	<span class="c1">//包装对象：基本类型都有自己对应的包装对象（String, Number, Boolean）（null和undefined没有包装对象）</span>

	<span class="cm">/*
	var str = new String('hello');
	alert(typeof str); //object
	alert(str.charAt(1)); //弹出e

	String.prototype.charAt = function(){}; //基本类型的方法都是放在它们的包装对象上
	*/</span>

	<span class="cm">/*
	var str = 'hello'; //str是字符串
	str.charAt(0); //基本类型找到对应的包装对象类型，然后包装对象把所有的属性和方法给了基本类型，然后包装对象消失
	*/</span>

	<span class="c1">//给基本类型添加对象的时候，就是把方法添加到基本类型对应的包装对象下面</span>
	<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s1">'hello'</span><span class="p">;</span>
	<span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">lastValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">};</span>
	<span class="nx">alert</span><span class="p">(</span><span class="nx">str</span><span class="p">.</span><span class="nx">lastValue</span><span class="p">());</span> <span class="c1">//o</span>
	
	<span class="kd">var</span> <span class="nx">str1</span> <span class="o">=</span> <span class="s1">'hello'</span><span class="p">;</span>
	<span class="nx">str1</span><span class="p">.</span><span class="nx">number</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">//在str1的包装对象上创建了一个number，然后包装对象就消失了</span>
	<span class="nx">alert</span><span class="p">(</span><span class="nx">str1</span><span class="p">.</span><span class="nx">number</span><span class="p">);</span> <span class="c1">//undefined 再去调用这句话的时候，此时又重新创建了一个对象，这个对象与刚才那个对象不是同一个	</span>

	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="section-9">原型链</h3>

<ul>
  <li>实例对象与原型之间的连接，叫做原型链</li>
  <li><em>proto</em> (隐式连接)</li>
  <li>Object对象类型是原型链的最外层</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象中的原型链<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
	
		<span class="c1">//原型链：实例对象与原型之间的连接叫作原型链</span>
		<span class="c1">//_proto_ (隐式连接)</span>
		<span class="c1">//原型链的最外层是Object.prototype</span>

		<span class="kd">function</span> <span class="nx">Aaa</span><span class="p">(){</span>
			
		<span class="p">}</span>

		<span class="nx">Aaa</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">a1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Aaa</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a1</span><span class="p">.</span><span class="nx">num</span><span class="p">);</span> <span class="c1">//10 a1现在它自己下面找，找不到这个num，然后又通过原型链到了Aaa.prototype，到它下面去找，最终找到了num</span>

		<span class="kd">function</span> <span class="nx">Bbb</span><span class="p">(){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">num</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="nx">Bbb</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">b1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bbb</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">b1</span><span class="p">.</span><span class="nx">num</span><span class="p">);</span> <span class="c1">//20 简单来讲，实例上的方法的优先级高于原型上的方法；本质上来讲，是从b1下面找num直接就找到了，于是就不需要再进一步通过原型链去找到Bbb.prototype上的num了。</span>

		<span class="kd">function</span> <span class="nx">Ccc</span><span class="p">(){};</span>
		<span class="kd">var</span> <span class="nx">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ccc</span><span class="p">();</span>
		<span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">num</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span> <span class="c1">//弹出30 c1下找不到num；顺着原型链找到Ccc也找不到num，继续顺着原型链往上找，找到Object.prototype，找到了num</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">c1</span><span class="p">.</span><span class="nx">num</span><span class="p">);</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="section-10">面向对象的一些属性和方法</h3>

<h4 id="hasownproperty">hasOwnProperty()</h4>

<ul>
  <li>看是不是对象自身下面的属性</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象中的原型链<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">//hasOwnProperty: 看是不是对象自身下面的属性</span>

		<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
		<span class="nx">arr</span><span class="p">.</span><span class="nx">num</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
		<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">num2</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>

		<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">'num'</span><span class="p">));</span> <span class="c1">//true</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">'num2'</span><span class="p">));</span> <span class="c1">//false</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">hasOwnProperty</span> <span class="o">==</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">);</span> <span class="c1">//true hasOwnProperty其实是Object.prototype下面的方法</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h4 id="constructor">constructor</h4>

<ul>
  <li>查看对象的构造函数
    <ul>
      <li>每个原型都会自动添加constructor属性</li>
      <li>for in 的时候，有些属性是找不到的</li>
      <li>避免修改constructor属性</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象中的原型链<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">//constructor: 查看对象的构造函数</span>

		<span class="kd">function</span> <span class="nx">Aaa</span><span class="p">(){</span>

		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">a1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Aaa</span><span class="p">();</span>

		<span class="nx">alert</span><span class="p">(</span><span class="nx">a1</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">//function Aaa</span>

		<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">==</span> <span class="nb">Array</span><span class="p">);</span> <span class="c1">//true</span>

		<span class="cm">/*
		在写完一个构造函数之后
		function Aaa(){}
		程序会自动添加一句话：
		Aaa.prototype.constructor = Aaa; //每一个函数都会有的，都是自动生成的
		这时候new一个Aaa
		var a1 = new Aaa();
		alert(a1.constructor); //弹出Aaa
		如果手动写一句：
		Aaa.prototype.constructor = Array;
		那么再去弹a1.constructor的话，弹出的就是Array了。

		而hasOwnProperty这个属性是添加在Object.prototype下面的，所以每个对象下面去查这个hasOwnProperty也都会有。但是hasOwnProperty这个方法不是在具体对象下面的，而都是沿着原型链找到Object.prototype身上找到的。跟constructor是不一样的。
		*/</span>

		<span class="kd">function</span> <span class="nx">Bbb</span><span class="p">(){</span>

		<span class="p">}</span>

		<span class="nx">Bbb</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'小明'</span><span class="p">;</span>
		<span class="nx">Bbb</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>

		<span class="kd">var</span> <span class="nx">b1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bbb</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">b1</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">//function Bbb()</span>

		<span class="c1">//下面这种写法就无意识地改变了c1的constructor，因为json直接赋值给了Ccc.prototype，而不是向上面那段代码是添加操作。那么原本系统自动生成的那句话Ccc.prototype.constructor = Ccc这句话就被覆盖掉了。然后通过c1.constructor去找的话，其实找的就是这个json所对应的constructor了。</span>
		<span class="kd">function</span> <span class="nx">Ccc</span><span class="p">(){</span>

		<span class="p">}</span>
		<span class="nx">Ccc</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
			<span class="na">name</span><span class="p">:</span> <span class="s1">'小明'</span><span class="p">,</span>
			<span class="na">age</span><span class="p">:</span> <span class="mi">20</span>
		<span class="p">}</span>
		<span class="kd">var</span> <span class="nx">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ccc</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">c1</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">//function Object</span>

		<span class="c1">//为了避免上述问题，应该注意，用json简写的时候，要把constructor修正过来，如下：</span>

		<span class="kd">function</span> <span class="nx">Ddd</span><span class="p">(){</span>

		<span class="p">}</span>
		<span class="nx">Ddd</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
			<span class="na">constructor</span><span class="p">:</span> <span class="nx">Ddd</span><span class="p">,</span> <span class="c1">//通过这一句来修正一下</span>
			<span class="na">name</span><span class="p">:</span> <span class="s1">'小明'</span><span class="p">,</span>
			<span class="na">age</span><span class="p">:</span> <span class="mi">20</span>
		<span class="p">}</span>
		<span class="kd">var</span> <span class="nx">d1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ddd</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">d1</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">//Ddd</span>

	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>for in循环，有些属性找不到</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>面向对象中的原型链<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="kd">function</span> <span class="nx">Aaa</span><span class="p">(){</span>

		<span class="p">}</span>
		<span class="nx">Aaa</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
		<span class="nx">Aaa</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">Aaa</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">Aaa</span><span class="p">.</span><span class="nx">prototype</span><span class="p">){</span>
			<span class="nx">alert</span><span class="p">(</span><span class="nx">attr</span><span class="p">);</span> <span class="c1">//只能找到自己添加的，系统自动生成的比如constructor，for in循环是找不到的</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h4 id="instanceof">instanceof</h4>

<ul>
  <li>运算符
    <ul>
      <li>对象与构造函数在原型链上是否有关系</li>
      <li>可以用来作类型判断</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>instanceof()<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">// instanceof: 对象与构造函数在原型链上是否有关系</span>

		<span class="kd">function</span> <span class="nx">Aaa</span><span class="p">(){</span>

		<span class="p">}</span>
		<span class="kd">var</span> <span class="nx">a1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Aaa</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a1</span> <span class="k">instanceof</span> <span class="nx">Aaa</span><span class="p">);</span> <span class="c1">//true 看a1是否与Aaa在同一个原型链上</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a1</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">);</span> <span class="c1">//false</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a1</span> <span class="k">instanceof</span> <span class="nb">Object</span><span class="p">);</span> <span class="c1">//true</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h4 id="tostring">toString()</h4>

<ul>
  <li>object上的方法</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>toString()<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">// toString(): </span>
		<span class="c1">// 位置：系统对象下面都是自带的；自己写的对象都是通过原型链找Object下面的</span>
		<span class="c1">// 作用：把对象转成字符串</span>

		<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">toString</span><span class="p">);</span> <span class="c1">//找得到</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">toString</span> <span class="o">==</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">);</span> <span class="c1">//false 系统对象下面的toString不在Object原型上</span>

		<span class="kd">function</span> <span class="nx">Aaa</span><span class="p">(){</span>

		<span class="p">}</span>
		<span class="kd">var</span> <span class="nx">a1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Aaa</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a1</span><span class="p">.</span><span class="nx">toString</span><span class="p">);</span> <span class="c1">//找得到</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a1</span><span class="p">.</span><span class="nx">toString</span> <span class="o">==</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">);</span> <span class="c1">//true 构造函数生成的对象的toString方法在Object原型上</span>

		<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
		<span class="nx">alert</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span> <span class="c1">//string</span>

		<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span> <span class="c1">//"1, 2, 3"</span>

		<span class="c1">//因为知道toString在哪儿了，所以可以手动修改toString方法</span>
		<span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">'+'</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span> <span class="c1">//"1+2+3"</span>

		<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">255</span><span class="p">;</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">num</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span> <span class="c1">//"ff" 将255转成16进制</span>

		<span class="c1">//利用toString进行类型判断（用constructor和instanceof也都可以进行类型判断）。推荐toString来判断例如数组的类型</span>
		<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="p">{}</span>
		<span class="kd">var</span> <span class="nx">reg</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arr</span><span class="p">));</span> <span class="c1">//[object Array]</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">date</span><span class="p">));</span> <span class="c1">//[object Date]</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span> <span class="c1">//[object Object]</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">reg</span><span class="p">));</span> <span class="c1">//[object RegExp]</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">n</span><span class="p">));</span> <span class="c1">//[object Null]</span>
		<span class="c1">//判断类型时直接进行比较就可以了，例如判断arr是否是数组：</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'[object Array]'</span><span class="p">);</span> <span class="c1">//true</span>

		<span class="c1">//举例说明用instanceof和constructor来判断数组失效，但是toString依然有效的例子</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">oF</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'iframe'</span><span class="p">);</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">oF</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">ifArray</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nb">Array</span><span class="p">;</span> <span class="c1">//ifArray就是iframe里面的数组</span>
			<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ifArray</span><span class="p">();</span> <span class="c1">//ifArray就是iframe里面的数组 这时候跨页面了</span>

			<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">==</span> <span class="nb">Array</span><span class="p">);</span> <span class="c1">//false constructor判断iframe下面的数组失效</span>
			<span class="nx">alert</span><span class="p">(</span><span class="nx">arr</span> <span class="k">instanceof</span> <span class="nb">Array</span><span class="p">);</span> <span class="c1">//false 判断失效</span>
			<span class="nx">alert</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="o">==</span> <span class="s1">'[object Array]'</span><span class="p">);</span> <span class="c1">//true 判断依然有效</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="section-11">对象的继承</h3>

<ul>
  <li>什么是继承
    <ul>
      <li>在原有对象的基础上，略作修改，得到一个新的对象</li>
      <li>不影响原有对象的功能</li>
    </ul>
  </li>
  <li>如何添加继承
    <ul>
      <li>属性：call</li>
      <li>方法：for in</li>
      <li>例子：继承的拖拽</li>
    </ul>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>继承<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">// 继承：子类不影响父类；子类可以继承父类的一些功能（实现代码复用）</span>

		<span class="kd">function</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">sex</span><span class="p">){</span> <span class="c1">//父类</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">sex</span> <span class="o">=</span> <span class="nx">sex</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">CreatePerson</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreatePerson</span><span class="p">(</span><span class="s1">'小明'</span><span class="p">,</span> <span class="s1">'男'</span><span class="p">);</span>
		<span class="nx">p1</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>

		<span class="c1">//属性的继承：调用父类的构造函数 用call改this指向</span>
		<span class="c1">//方法的继承：用for in循环</span>

		<span class="kd">function</span> <span class="nx">CreateStar</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">sex</span><span class="p">,</span> <span class="nx">job</span><span class="p">){</span> <span class="c1">//子类</span>
			<span class="c1">// this.name = name;</span>
			<span class="c1">// this.sex = sex;</span>

			<span class="nx">CreatePerson</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">sex</span><span class="p">);</span> <span class="c1">//调用父类构造函数 需要修改指向</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">job</span> <span class="o">=</span> <span class="nx">job</span><span class="p">;</span>

		<span class="p">}</span>

		<span class="cm">/*
		CreateStar.prototype = CreatePerson.prototype; //将父类的原型赋给子类，那么子类就获得了父类下所有的属性值，实现了方法的继承 但是这里有对象的引用问题，造成互相干涉
		例如：
		CreateStar.prototype.showJob = function(){}
		上面子类的原型添加的方法，那么父类CreatePerson.prototype下面也有了showJob的方法
		*/</span>

		<span class="c1">//方法的继承应该用for in循环，将父类的所有属性拷贝给子类，这叫作“拷贝继承”。jQuery也是采用拷贝继承extend</span>

		<span class="kd">function</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="nx">obj1</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">extend</span><span class="p">(</span><span class="nx">CreateStar</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">CreatePerson</span><span class="p">.</span><span class="nx">prototype</span> <span class="p">)</span>
		<span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CreateStar</span><span class="p">(</span><span class="s1">'黄晓明'</span><span class="p">,</span> <span class="s1">'男'</span><span class="p">,</span> <span class="s1">'演员'</span><span class="p">)</span>
		<span class="nx">p2</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>

	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>继承<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
			<span class="na">name</span><span class="p">:</span> <span class="s1">'小明'</span>
		<span class="p">};</span>

		<span class="c1">//var b = a;</span>
		
		<span class="c1">// var b = {};</span>
		<span class="c1">// for(var attr in a){</span>
		<span class="c1">// 	b[attr] = a[attr];</span>
		<span class="c1">// }</span>
		<span class="c1">// b.name = "小强";</span>
		<span class="c1">// alert(a.name);</span>

		<span class="c1">//将对象属性的拷贝封装成一个函数</span>
		<span class="kd">function</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="nx">obj1</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{};</span>
		<span class="nx">extend</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span> 
		<span class="nx">b</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'小强'</span><span class="p">;</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>继承<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
		<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">a</span><span class="p">;</span>
		<span class="c1">// b.push(4); //修改 a、b之间引用链条存在</span>
		<span class="c1">// alert(a); //1, 2, 3, 4 a被b影响了</span>

		<span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span> <span class="c1">//重新赋值，内存中这个b又重新生成了。a和b之间这个引用的链条已经断开，a、b没有关系</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span> <span class="c1">//1, 2, 3 a未被影响</span>

		<span class="c1">//在for in循环中，子类原型的方法也直接等于了父类原型的方法，因为方法是函数，也是个对象，为什么这种“对象 = 对象”没有互相干涉呢？这是因为函数有些特殊，不能被修改，只能被重新赋值</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>继承的拖拽</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;}</span>
		<span class="nf">#div2</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">yellow</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">100px</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery-1.11.1.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">d1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="nx">d1</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>

			<span class="kd">var</span> <span class="nx">d2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ChildDrag</span><span class="p">(</span><span class="s1">'div2'</span><span class="p">);</span>
			<span class="nx">d2</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="c1">//父类的面向对象的拖拽开始</span>
		<span class="kd">function</span> <span class="nx">Drag</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span> <span class="c1">//父类</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>
		
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">onmousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
				<span class="nx">This</span><span class="p">.</span><span class="nx">fnDown</span><span class="p">(</span><span class="nx">ev</span><span class="p">);</span>

				<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
					<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">fnMove</span><span class="p">(</span><span class="nx">ev</span><span class="p">);</span>
				<span class="p">}</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">fnUp</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnDown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnMove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnUp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="c1">//父类的面向对象的拖拽结束</span>
		
		<span class="c1">//子类继承父类开始</span>
		<span class="kd">function</span> <span class="nx">ChildDrag</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span> <span class="c1">//子类</span>
			<span class="nx">Drag</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="nx">extend</span><span class="p">(</span><span class="nx">ChildDrag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">);</span>

		<span class="c1">//通过改变ChildDrap原型下的fnMove，给子类添加了限制拖拽时，元素超出可视区左右边界的功能</span>
		<span class="nx">ChildDrag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnMove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
			<span class="kd">var</span> <span class="nx">L</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disX</span><span class="p">;</span>
			<span class="kd">var</span> <span class="nx">T</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disY</span><span class="p">;</span>

			<span class="k">if</span><span class="p">(</span><span class="nx">L</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">){</span>
				<span class="nx">L</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">L</span> <span class="o">&gt;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">){</span>
				<span class="nx">L</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">L</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">T</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="nx">obj1</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="c1">//子类继承父类结束</span>

	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<ul>
  <li>继承的其他形式
    <ul>
      <li>类式继承
        <ul>
          <li>利用构造函数（类）继承的方式</li>
        </ul>
      </li>
      <li>原型继承
        <ul>
          <li>借助原型来实现对象继承对象</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><strong>类式继承</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">//类：JS是没有类的概念的，可以把JS中的构造函数看做是类</span>
		<span class="c1">//要做属性和方法继承的时候，要分开继承</span>
		
		<span class="kd">function</span> <span class="nx">Aaa</span><span class="p">(){</span> <span class="c1">//父类</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'小明'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
		<span class="p">}</span>
		<span class="nx">Aaa</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">showName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nx">alert</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">Bbb</span><span class="p">(){</span> <span class="c1">//子类		</span>
		<span class="p">}</span>

		<span class="nx">Bbb</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Aaa</span><span class="p">();</span> <span class="c1">//这句话就是类式继承</span>
		<span class="c1">//只写上面一句话是有问题的，修改了constructor指向。</span>
		<span class="c1">//Bbb.prototype.constructor = Bbb; //修正指向问题</span>

		<span class="kd">var</span> <span class="nx">b1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bbb</span><span class="p">();</span>
		<span class="nx">b1</span><span class="p">.</span><span class="nx">showName</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">b1</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">b1</span><span class="p">.</span><span class="nx">constructor</span><span class="p">);</span> <span class="c1">//弹出的并不是Bbb，而是Aaa。只有写了上面修正指向的那句话，这里才会变成Bbb</span>

		<span class="c1">//真正规范的类式继承要用下面几句话：</span>
		<span class="c1">// function Bbb(){ //这里只继承了属性</span>
		<span class="c1">// 	Aaa.call(this)</span>
		<span class="c1">// }</span>
		<span class="c1">//var F = function(){}; //创建一个空的构造函数</span>
		<span class="c1">//F.prototype = Aaa.prototype;</span>
		<span class="c1">//Bbb.prototype = new F(); //这里只继承了方法</span>
		<span class="c1">//Bbb.prototype.constructor = Bbb;</span>

		<span class="nx">b1</span><span class="p">.</span><span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>

		<span class="kd">var</span> <span class="nx">b2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Bbb</span><span class="p">();</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">b2</span><span class="p">.</span><span class="nx">arr</span><span class="p">);</span> <span class="c1">//[1, 2, 3, 4] 这里看到上面的b1.arr.push(4)影响到了这里 要避免这种问题，应该用上面的类式继承的规范写法才行</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>原型继承</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>原型继承<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
			<span class="na">name</span><span class="p">:</span> <span class="s1">'小明'</span>
		<span class="p">}</span>

		<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">cloneObj</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span> <span class="c1">//让b继承a</span>
		<span class="nx">b</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">'小强'</span><span class="p">;</span> <span class="c1">//这一句不会更改a的name，因为这一句在b的下面又新建了一个属性name，值为“小强”</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//小强</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">//小明</span>

		<span class="kd">function</span> <span class="nx">cloneObj</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>
			<span class="kd">var</span> <span class="nx">F</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){};</span>
			<span class="nx">F</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
			<span class="k">return</span> <span class="k">new</span> <span class="nx">F</span><span class="p">();</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<ul>
  <li>拷贝继承：通用型的 有new或无new的时候都可以</li>
  <li>类式继承：适合通过new构造函数形式</li>
  <li>原型继承：比较适合无new的对象</li>
</ul>

<h3 id="section-12">组件开发</h3>

<ul>
  <li>对象的多种表现形式
    <ul>
      <li>提高对象的复用性</li>
      <li>如何配置参数和默认参数</li>
      <li>例子：拖拽</li>
      <li>例子：弹窗</li>
    </ul>
  </li>
  <li>什么是组件？
    <ul>
      <li>对面向对象的深入应用（UI组件、功能组件）</li>
      <li>将配置参数、方法、事件、三者进行分离</li>
    </ul>
  </li>
  <li>创建自定义事件
    <ul>
      <li>有利于多人协作开发代码</li>
      <li>如何去挂载自定义事件与事件函数</li>
    </ul>
  </li>
  <li>例子：基于JQ的选项卡的组件开发模式
    <ul>
      <li>trigger() extend()等方法的使用</li>
    </ul>
  </li>
  <li>本课练习
    <ul>
      <li>组件开发的练习</li>
      <li>http://tangram.baidu.com/magic/</li>
    </ul>
  </li>
</ul>

<p><strong>如何配置参数和默认参数</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>组件开发中的参数问题<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;script&gt;</span>
	<span class="c1">//用json来解决参数数量问题</span>
		<span class="kd">function</span> <span class="nx">show</span><span class="p">(</span><span class="nx">opt</span><span class="p">){</span>

		<span class="p">}</span>

		<span class="nx">show</span><span class="p">({</span>
			<span class="na">id</span><span class="p">:</span> <span class="s1">'div1'</span><span class="p">,</span>
			<span class="na">toDown</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){},</span>
			<span class="na">toUp</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){}</span>
		<span class="p">});</span>

	<span class="c1">//用下面的方法解决参数顺序问题</span>
		<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">//配置参数</span>
			<span class="c1">//name: '小明'</span>
			<span class="na">name</span><span class="p">:</span> <span class="s1">'小明'</span>
		<span class="p">}</span>
		<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">//默认参数</span>
			<span class="na">name</span><span class="p">:</span> <span class="s1">'小强'</span>
		<span class="p">}</span>

		<span class="nx">extend</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span> <span class="c1">//当有配置的时候，走配置，没有配置的时候，走默认</span>
		<span class="nx">alert</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>

		<span class="kd">function</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="nx">obj1</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>拖拽的组件开发</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;}</span>
		<span class="nf">#div2</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">yellow</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">100px</span><span class="p">;}</span>
		<span class="nf">#div3</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">200px</span><span class="p">;}</span>
		<span class="nf">#div4</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">300px</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery-1.11.1.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script&gt;</span>
	<span class="cm">/*
		组件开发：像兄弟之间的关系（代码复用的一种形式）
	*/</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">d1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">();</span>
			<span class="nx">d1</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>

			<span class="kd">var</span> <span class="nx">d2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">();</span>
			<span class="nx">d2</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div2'</span><span class="p">,</span> <span class="p">{</span> <span class="c1">//配置参数</span>
				<span class="na">toDown</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">'hello'</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">});</span>

			<span class="kd">var</span> <span class="nx">d3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">();</span>
			<span class="nx">d3</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div3'</span><span class="p">,</span> <span class="p">{</span> <span class="c1">//配置参数</span>
				<span class="na">toDown</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">'妙味'</span><span class="p">;</span>
				<span class="p">},</span>
				<span class="na">toUp</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">'课堂'</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">});</span>

			<span class="kd">var</span> <span class="nx">d4</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">();</span>
			<span class="nx">d4</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div4'</span><span class="p">,</span> <span class="p">{</span> <span class="c1">//配置参数</span>
				<span class="na">toUp</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">'byebye'</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">});</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">Drag</span><span class="p">(){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">//默认参数</span>
				<span class="c1">//id不应该属于配置参数当中，它属于必填项</span>
				<span class="na">toDown</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){},</span>
				<span class="na">toUp</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){}</span>
			<span class="p">}</span>
		<span class="p">}</span>
		
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">opt</span><span class="p">){</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

			<span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">,</span> <span class="nx">opt</span><span class="p">);</span> <span class="c1">//用配置覆盖默认</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">onmousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
				<span class="nx">This</span><span class="p">.</span><span class="nx">fnDown</span><span class="p">(</span><span class="nx">ev</span><span class="p">);</span>

				<span class="nx">This</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">toDown</span><span class="p">();</span>

				<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
					<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">fnMove</span><span class="p">(</span><span class="nx">ev</span><span class="p">);</span>
				<span class="p">}</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">fnUp</span><span class="p">();</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">toUp</span><span class="p">();</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnDown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnMove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnUp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="nx">obj1</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>

	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;&lt;/div&gt;</span> <span class="c">&lt;!-- 红色方块是老大 --&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;&lt;/div&gt;</span> <span class="c">&lt;!-- 黄色方块是老二 黄色的按下之后title有一个变化 --&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div3"</span><span class="nt">&gt;&lt;/div&gt;</span> <span class="c">&lt;!-- 老三 按下title变化，抬起title变化 --&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div4"</span><span class="nt">&gt;&lt;/div&gt;</span> <span class="c">&lt;!-- 老四 鼠标抬起时title有变化 --&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>弹窗的组件开发</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>弹窗的组件开发<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="o">*</span> <span class="p">{</span><span class="nl">margin</span> <span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="err">padding;</span> <span class="err">0</span><span class="p">}</span>
		<span class="nc">.login</span> <span class="p">{</span><span class="nl">background</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span> <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="m">#000</span> <span class="nb">solid</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">z-index</span><span class="p">:</span> <span class="m">2</span><span class="p">;}</span>
		<span class="nc">.title</span> <span class="p">{</span><span class="nl">height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">gray</span><span class="p">;</span> <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;}</span>
		<span class="nc">.title</span> <span class="nc">.close</span> <span class="p">{</span><span class="nl">float</span><span class="p">:</span> <span class="nb">right</span><span class="p">;}</span>
		<span class="nf">#mask</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">black</span><span class="p">;</span> <span class="nl">filter</span><span class="p">:</span> <span class="n">alpha</span><span class="p">(</span><span class="n">oapcity</span><span class="err">=</span><span class="m">50</span><span class="p">);</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.5</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">z-index</span><span class="p">:</span> <span class="m">1</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">aInput</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>

			<span class="nx">aInput</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="kd">var</span> <span class="nx">d1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dialog</span><span class="p">();</span>
				<span class="nx">d1</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span><span class="c1">//配置参数</span>
					<span class="na">iNow</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
					<span class="na">title</span><span class="p">:</span> <span class="s1">'登陆'</span>
				<span class="p">});</span>
			<span class="p">}</span>

			<span class="nx">aInput</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="kd">var</span> <span class="nx">d2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dialog</span><span class="p">();</span>
				<span class="nx">d2</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span><span class="c1">//配置参数</span>
					<span class="na">iNow</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
					<span class="na">w</span> <span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
					<span class="na">h</span> <span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
					<span class="na">dir</span><span class="p">:</span> <span class="s1">'right'</span><span class="p">,</span>
					<span class="na">title</span><span class="p">:</span> <span class="s1">'公告'</span>
				<span class="p">});</span>
			<span class="p">}</span>

			<span class="nx">aInput</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="kd">var</span> <span class="nx">d3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Dialog</span><span class="p">();</span>
				<span class="nx">d3</span><span class="p">.</span><span class="nx">init</span><span class="p">({</span><span class="c1">//配置参数</span>
					<span class="na">iNow</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
					<span class="na">mask</span><span class="p">:</span> <span class="kc">true</span>
				<span class="p">});</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">Dialog</span><span class="p">(){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">//默认参数</span>
				<span class="na">w</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
				<span class="na">h</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
				<span class="na">dir</span><span class="p">:</span> <span class="s1">'center'</span><span class="p">,</span>
				<span class="na">title</span><span class="p">:</span> <span class="s1">''</span><span class="p">,</span>
				<span class="na">mask</span><span class="p">:</span> <span class="kc">false</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">Dialog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">json</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">//防止添加多个弹窗</span>

		<span class="nx">Dialog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">opt</span><span class="p">){</span>

			<span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">,</span> <span class="nx">opt</span><span class="p">);</span>

			<span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">json</span><span class="p">[</span><span class="nx">opt</span><span class="p">.</span><span class="nx">iNow</span><span class="p">]</span> <span class="o">==</span> <span class="kc">undefined</span><span class="p">){</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">json</span><span class="p">[</span><span class="nx">opt</span><span class="p">.</span><span class="nx">iNow</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">json</span><span class="p">[</span><span class="nx">opt</span><span class="p">.</span><span class="nx">iNow</span><span class="p">]){</span> <span class="c1">//防止添加多个弹窗</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">create</span><span class="p">();</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">fnClose</span><span class="p">();</span>

				<span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">mask</span><span class="p">){</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">createMask</span><span class="p">();</span>
				<span class="p">}</span>

				<span class="k">this</span><span class="p">.</span><span class="nx">json</span><span class="p">[</span><span class="nx">opt</span><span class="p">.</span><span class="nx">iNow</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span>
			

		<span class="p">}</span>

		<span class="nx">Dialog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">create</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">'login'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;div class="title"&gt;&lt;span&gt;'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">title</span> <span class="o">+</span> <span class="s1">'&lt;/span&gt;&lt;span class="close"&gt;X&lt;/span&gt;&lt;/div&gt;&lt;div class="content"&gt;&lt;/div&gt;'</span><span class="p">;</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">setData</span><span class="p">();</span>

		<span class="p">}</span>

		<span class="nx">Dialog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setData</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">w</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">h</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>

			<span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">dir</span> <span class="o">==</span> <span class="s1">'center'</span><span class="p">){</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="p">(</span><span class="nx">viewWidth</span><span class="p">()</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="p">(</span><span class="nx">viewHeight</span><span class="p">()</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">dir</span> <span class="o">==</span> <span class="s1">'right'</span><span class="p">){</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="p">(</span><span class="nx">viewWidth</span><span class="p">()</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="p">(</span><span class="nx">viewHeight</span><span class="p">()</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="p">}</span>

		<span class="p">}</span>

		<span class="nx">Dialog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnClose</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">oClose</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'span'</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="nx">oClose</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">This</span><span class="p">.</span><span class="nx">oLogin</span><span class="p">);</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">This</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">mask</span><span class="p">){</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">This</span><span class="p">.</span><span class="nx">oMask</span><span class="p">);</span>
				<span class="p">}</span>

				<span class="nx">This</span><span class="p">.</span><span class="nx">json</span><span class="p">[</span><span class="nx">This</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">iNow</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">Dialog</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">createMask</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">oMask</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>
			<span class="nx">oMask</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="s1">'mask'</span><span class="p">;</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">oMask</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oMask</span> <span class="o">=</span> <span class="nx">oMask</span><span class="p">;</span>

			<span class="nx">oMask</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">viewWidth</span><span class="p">()</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="nx">oMask</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">viewHeight</span><span class="p">()</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="nx">obj1</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">viewWidth</span><span class="p">(){</span>
			<span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">viewHeight</span><span class="p">(){</span>
			<span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>

	<span class="c">&lt;!-- &lt;div class="login"&gt;
		&lt;div class="title"&gt;
			&lt;span&gt;标题&lt;/span&gt;&lt;span class="close"&gt;X&lt;/span&gt;
		&lt;/div&gt;
		&lt;div class="content"&gt;&lt;/div&gt;
	&lt;/div&gt; --&gt;</span>
	<span class="c">&lt;!-- &lt;div id="mask"&gt;&lt;/div&gt; --&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>理解自定义事件</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>自定义事件<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">// 自定义事件：主要是跟函数有关系，让函数能够具备事件的某些特性</span>

		<span class="c1">// 三个人都针对show来添加功能。都添加到一个地方会乱，于是三个人分开来写</span>
		<span class="cm">/*
		function show(){
			alert(1); //第一个人写
		}

		function show(){
			alert(2); //第二个人写
		}

		function show(){
			alert(3); //第三个人写
		}

		show(); //只能执行第三个人写的，因为函数不能修改只能覆盖
		*/</span>
		
		<span class="c1">//看看是否能让函数具备事件的特性，多人写的可以绑定上去，就解决了多人协作的问题。原理就如以下情形。当然以下代码不是添加自定义事件的代码，只是为了方便理解：</span>
		<span class="cm">/*
		window.addEventListener('show', function(){
			alert(1); //第一个人写的
		}, false);
		window.addEventListener('show', function(){
			alert(2); //第二个人写的
		}, false);
		window.addEventListener('show', function(){
			alert(3); //第三个人写的
		}, false);

		show(); //主动触发自定义事件
		*/</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>用原生js实现自定义事件</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>自定义事件<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;script&gt;</span>
	<span class="c1">//自定义事件重点在于将函数和元素以及事件名称建立关系，在执行某个函数的时候，主动触发某个事件名称下面相关的所有函数</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">oDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">oSpan</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'span1'</span><span class="p">);</span>
			
			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">oDiv</span><span class="p">,</span> <span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nx">alert</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
			<span class="p">})</span>

			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">oDiv</span><span class="p">,</span> <span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nx">alert</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
			<span class="p">})</span>

			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">oSpan</span><span class="p">,</span> <span class="s1">'show'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">//这里的show就是个自定义事件</span>
				<span class="nx">alert</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
			<span class="p">})</span>

			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">oSpan</span><span class="p">,</span> <span class="s1">'show'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">//这里的show就是个自定义事件</span>
				<span class="nx">alert</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
			<span class="p">})</span>

			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">oSpan</span><span class="p">,</span> <span class="s1">'hide'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">//这里的show就是个自定义事件</span>
				<span class="nx">alert</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
			<span class="p">})</span>

			<span class="nx">fireEvent</span><span class="p">(</span><span class="nx">oSpan</span><span class="p">,</span> <span class="s1">'show'</span><span class="p">);</span> <span class="c1">//主动触发，弹出3, 4</span>
			<span class="nx">fireEvent</span><span class="p">(</span><span class="nx">oDiv</span><span class="p">,</span> <span class="s1">'click'</span><span class="p">);</span> <span class="c1">//主动触发，弹出1, 2</span>
		<span class="p">}</span>



		<span class="kd">function</span> <span class="nx">bindEvent</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>

			<span class="c1">//fn: 看作一本书 《西游记》</span>
			<span class="c1">//obj: 相当于图书馆的楼层 文学楼</span>
			<span class="c1">//events: 相当于书架 古典文学书架</span>

			<span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span> <span class="o">||</span> <span class="p">{};</span> <span class="c1">//先找到楼层，没有楼层就创建楼层</span>
			<span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">]</span> <span class="o">||</span> <span class="p">[];</span> <span class="c1">//再找到书架，没有书架就创建书架</span>
			<span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">fn</span><span class="p">);</span> <span class="c1">//把fn这本书放到书架上</span>
			<span class="cm">/* 通过以上的方式，将obj，events和fn建立了关系*/</span>

			<span class="k">if</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">){</span>
				<span class="nx">obj</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">events</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
				<span class="nx">obj</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s1">'on'</span> <span class="o">+</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">fn</span><span class="p">);</span>
			<span class="p">}</span>	
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">fireEvent</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">events</span><span class="p">){</span> <span class="c1">//主动触发自定义事件</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">][</span><span class="nx">i</span><span class="p">]();</span>
			<span class="p">}</span>
		<span class="p">}</span>

	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>div<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"span1"</span><span class="nt">&gt;</span>span<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>配置、方法、自定义事件分离——正规组件的写法——基于拖拽的组件进行的修改</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>自定义事件的拖拽组件<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;}</span>
		<span class="nf">#div2</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">yellow</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">100px</span><span class="p">;}</span>
		<span class="nf">#div3</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">200px</span><span class="p">;}</span>
		<span class="nf">#div4</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">300px</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery-1.11.1.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">d1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">();</span>
			<span class="nx">d1</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>

			<span class="kd">var</span> <span class="nx">d2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">();</span>
			<span class="nx">d2</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div2'</span><span class="p">);</span>

			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">d2</span><span class="p">,</span> <span class="s1">'toDown'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">'hello'</span><span class="p">;</span>
			<span class="p">});</span>
			
			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">d2</span><span class="p">,</span> <span class="s1">'toDown'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span> <span class="c1">//新来的一个同事扩展d2的toDown事件的时候，更容易</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="s1">'black'</span><span class="p">;</span>
			<span class="p">})</span>

			<span class="kd">var</span> <span class="nx">d3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">();</span>
			<span class="nx">d3</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div3'</span><span class="p">);</span>

			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">d3</span><span class="p">,</span> <span class="s1">'toDown'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">'妙味'</span><span class="p">;</span>
			<span class="p">})</span>
			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">d3</span><span class="p">,</span> <span class="s1">'toUp'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">'课堂'</span><span class="p">;</span>
			<span class="p">})</span>

			<span class="kd">var</span> <span class="nx">d4</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Drag</span><span class="p">();</span>
			<span class="nx">d4</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div4'</span><span class="p">);</span>

			<span class="nx">bindEvent</span><span class="p">(</span><span class="nx">d4</span><span class="p">,</span> <span class="s1">'toUp'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s1">'byebye'</span><span class="p">;</span>
			<span class="p">})</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">Drag</span><span class="p">(){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span> 
				
			<span class="p">}</span>
		<span class="p">}</span>
		
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">opt</span><span class="p">){</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

			<span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">,</span> <span class="nx">opt</span><span class="p">);</span> 

			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">onmousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
				<span class="nx">This</span><span class="p">.</span><span class="nx">fnDown</span><span class="p">(</span><span class="nx">ev</span><span class="p">);</span>
				<span class="nx">fireEvent</span><span class="p">(</span><span class="nx">This</span><span class="p">,</span> <span class="s1">'toDown'</span><span class="p">);</span>

				<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
					<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">fnMove</span><span class="p">(</span><span class="nx">ev</span><span class="p">);</span>
				<span class="p">}</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
					<span class="nx">This</span><span class="p">.</span><span class="nx">fnUp</span><span class="p">();</span>
					<span class="nx">fireEvent</span><span class="p">(</span><span class="nx">This</span><span class="p">,</span> <span class="s1">'toUp'</span><span class="p">);</span>
				<span class="p">}</span>
				<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnDown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnMove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disX</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">disY</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="nx">Drag</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fnUp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="nx">obj1</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">bindEvent</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>

			<span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span> <span class="o">||</span> <span class="p">{};</span> 
			<span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">]</span> <span class="o">||</span> <span class="p">[];</span> 
			<span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">fn</span><span class="p">);</span> 

			<span class="k">if</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">){</span> <span class="c1">//如果传进来的是DOM元素的话，走着下面；如果传进来的不是DOM，是对象的话，就不走下面，只走上面了</span>
				<span class="k">if</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">){</span>
					<span class="nx">obj</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="nx">events</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">obj</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s1">'on'</span> <span class="o">+</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">fn</span><span class="p">);</span>
				<span class="p">}</span>	
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">fireEvent</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">events</span><span class="p">){</span> 
			<span class="k">if</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">]){</span>
				<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
					<span class="nx">obj</span><span class="p">.</span><span class="nx">listeners</span><span class="p">[</span><span class="nx">events</span><span class="p">][</span><span class="nx">i</span><span class="p">]();</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>

	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;&lt;/div&gt;</span> 
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;&lt;/div&gt;</span> 
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div3"</span><span class="nt">&gt;&lt;/div&gt;</span> 
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div4"</span><span class="nt">&gt;&lt;/div&gt;</span> 
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>**用JQ实现选项卡的组件开发</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>基于JQ的选项卡组件开发<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nt">html</span><span class="o">,</span> <span class="nt">body</span> <span class="p">{</span><span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;}</span>
		<span class="nf">#div1</span> <span class="nt">div</span><span class="o">,</span> <span class="nf">#div2</span> <span class="nt">div</span><span class="o">,</span> <span class="nf">#div3</span> <span class="nt">div</span><span class="o">,</span> <span class="nf">#div4</span> <span class="nt">div</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#000</span><span class="p">;</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;}</span>
		<span class="nf">#div1</span> <span class="nc">.active</span><span class="o">,</span> <span class="nf">#div2</span> <span class="nc">.active</span><span class="o">,</span> <span class="nf">#div3</span> <span class="nc">.active</span><span class="o">,</span> <span class="nf">#div4</span> <span class="nc">.active</span> <span class="p">{</span><span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery-1.11.1.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script&gt;</span>
	<span class="cm">/*
		title: 基于JQ的选项卡组件
		Options: 
			- event 
			- delay
		Methods: 
			- nowSel() - 设置开始的tab数
			- getContent() - 获取当前内容
		Events:
			- beforeClick 点击前触发
			- afterClick 点击后触发
	*/</span>

	<span class="c1">// JQ中的主动触发：trigger()</span>

		<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>

			<span class="kd">var</span> <span class="nx">t1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tab</span><span class="p">();</span>
			<span class="nx">t1</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">,</span> <span class="p">{});</span>

			<span class="kd">var</span> <span class="nx">t2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tab</span><span class="p">();</span>
			<span class="nx">t2</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div2'</span><span class="p">,</span> <span class="p">{</span>
				<span class="na">event</span><span class="p">:</span> <span class="s1">'mouseover'</span>
			<span class="p">});</span>

			<span class="kd">var</span> <span class="nx">t3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tab</span><span class="p">();</span>
			<span class="nx">t3</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div3'</span><span class="p">,</span> <span class="p">{</span>
				<span class="na">event</span><span class="p">:</span> <span class="s1">'mouseover'</span><span class="p">,</span>
				<span class="na">delay</span><span class="p">:</span> <span class="mi">200</span>
			<span class="p">});</span>

			<span class="kd">var</span> <span class="nx">t4</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tab</span><span class="p">();</span>
			<span class="nx">t4</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">'div4'</span><span class="p">,</span> <span class="p">{});</span>
			<span class="nx">t4</span><span class="p">.</span><span class="nx">nowSel</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

			<span class="nx">$</span><span class="p">(</span><span class="s1">'#input1'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
				<span class="nx">alert</span><span class="p">(</span><span class="nx">t4</span><span class="p">.</span><span class="nx">getContent</span><span class="p">());</span>
			<span class="p">})</span>

			<span class="nx">$</span><span class="p">(</span><span class="nx">t4</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'beforeClick'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nx">alert</span><span class="p">(</span><span class="nx">t4</span><span class="p">.</span><span class="nx">getContent</span><span class="p">());</span>
			<span class="p">})</span>

			<span class="nx">$</span><span class="p">(</span><span class="nx">t4</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">'afterClick'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nx">alert</span><span class="p">(</span><span class="nx">t4</span><span class="p">.</span><span class="nx">getContent</span><span class="p">());</span>
			<span class="p">})</span>

		<span class="p">})</span>

		<span class="kd">function</span> <span class="nx">Tab</span><span class="p">(){</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oParent</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">iNow</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">settings</span> <span class="o">=</span> <span class="p">{</span> <span class="c1">//默认参数</span>
				<span class="na">event</span><span class="p">:</span> <span class="s1">'click'</span><span class="p">,</span>
				<span class="na">delay</span><span class="p">:</span> <span class="mi">0</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">oParent</span><span class="p">,</span> <span class="nx">opt</span><span class="p">){</span>
			<span class="nx">$</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">,</span> <span class="nx">opt</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">oParent</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#'</span> <span class="o">+</span> <span class="nx">oParent</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">oParent</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>
			<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">oParent</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">change</span><span class="p">();</span>
		<span class="p">}</span>

		<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">change</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">This</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
			<span class="kd">var</span> <span class="nx">timer</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">event</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>

				<span class="k">if</span><span class="p">(</span><span class="nx">This</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">event</span> <span class="o">==</span> <span class="s1">'mouseover'</span> <span class="o">&amp;&amp;</span> <span class="nx">This</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">delay</span><span class="p">){</span>
					<span class="kd">var</span> <span class="nx">_this</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

					<span class="nx">timer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
						<span class="nx">show</span><span class="p">(</span><span class="nx">_this</span><span class="p">);</span>
					<span class="p">},</span> <span class="nx">This</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">delay</span><span class="p">)</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="nx">show</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
				<span class="p">}</span>
				
			<span class="p">}).</span><span class="nx">mouseout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
				<span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
			<span class="p">});</span>

			<span class="kd">function</span> <span class="nx">show</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>

				<span class="nx">$</span><span class="p">(</span><span class="nx">This</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'beforeClick'</span><span class="p">);</span>

				<span class="nx">This</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
				<span class="nx">This</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">'display'</span><span class="p">,</span> <span class="s1">'none'</span><span class="p">);</span>
				<span class="nx">$</span><span class="p">(</span><span class="nx">obj</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">,</span> <span class="s1">'active'</span><span class="p">);</span>
				<span class="nx">This</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">obj</span><span class="p">).</span><span class="nx">index</span><span class="p">()).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'display'</span><span class="p">,</span> <span class="s1">'block'</span><span class="p">);</span>

				<span class="nx">This</span><span class="p">.</span><span class="nx">iNow</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">obj</span><span class="p">).</span><span class="nx">index</span><span class="p">();</span>

				<span class="nx">$</span><span class="p">(</span><span class="nx">This</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'afterClick'</span><span class="p">);</span>
			<span class="p">}</span>

			<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">nowSel</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">){</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s1">'display'</span><span class="p">,</span> <span class="s1">'none'</span><span class="p">);</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aInput</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="nx">index</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'class'</span><span class="p">,</span> <span class="s1">'active'</span><span class="p">);</span>
				<span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="nx">index</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'display'</span><span class="p">,</span> <span class="s1">'block'</span><span class="p">);</span>

				<span class="k">this</span><span class="p">.</span><span class="nx">iNow</span> <span class="o">=</span> <span class="nx">index</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="nx">Tab</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getContent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">aDiv</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">iNow</span><span class="p">).</span><span class="nx">html</span><span class="p">();</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>111111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>222222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>333333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>111111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>222222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>333333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>111111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>222222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>333333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div4"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"active"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: block"</span><span class="nt">&gt;</span>111111<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>222222<span class="nt">&lt;/div&gt;</span>
		<span class="nt">&lt;div&gt;</span>333333<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"点击"</span> <span class="na">id=</span><span class="s">"input1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h2 id="section-13">妙味综合案例</h2>

<h3 id="section-14">图片放大镜效果</h3>

<p><strong>子集影响父级的bug</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;}</span>
		<span class="nf">#div2</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">yellow</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>

			<span class="kd">var</span> <span class="nx">oDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>

			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmouseover</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">+=</span> <span class="s1">'1'</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmouseout</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">+=</span> <span class="s1">'2'</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="c1">// 会发现鼠标移到黄色div上的时候，title部分会一下子出现21，这个2是从div1移到div2触发的，而1是通过div2冒泡到div1上触发的</span>

		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>上述问题的解决方式(1)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;}</span>
		<span class="nf">#div2</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">yellow</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">// 解决方案：	</span>
		<span class="c1">// 1. js： 用onmouseener和onmouseleave事件替代onmouseover和onmouseout。onmouseenter和onmouseleave事件，子级不会影响到父级</span>
		<span class="c1">// 2. css</span>

		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>

			<span class="kd">var</span> <span class="nx">oDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>

			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmouseenter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">+=</span> <span class="s1">'1'</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmouseleave</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">+=</span> <span class="s1">'2'</span><span class="p">;</span>
			<span class="p">}</span>

		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>上述问题的解决方式(2)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nf">#div1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;}</span>
		<span class="nf">#div2</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">yellow</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">// 解决方案：	</span>
		<span class="c1">// 1. js： 用onmouseener和onmouseleave事件替代onmouseover和onmouseout。onmouseenter和onmouseleave事件，子级不会影响到父级</span>
		<span class="c1">// 上述两个事件有兼容性问题，但是兼容性问题不大，而且做兼容非常的麻烦 兼容方式如下：</span>
		<span class="c1">// 2. css</span>

		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>

			<span class="kd">var</span> <span class="nx">oDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>

			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmouseover</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">relatedTarget</span><span class="p">;</span> <span class="c1">//ev.relatedTarget是相对目标，可以理解为之前的目标</span>

				<span class="cm">/*
				1. 从body移到div1：a - div1；b - body
				2. 从div1移到div2：a - div1；b - div1
				3. 从div2移到div1：a - div1；b - div2
				 */</span>

				<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">elContains</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">a</span><span class="o">!=</span><span class="nx">b</span><span class="p">){</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">+=</span> <span class="s1">'1'</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmouseout</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">relatedTarget</span><span class="p">;</span>

				<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">elContains</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">a</span><span class="o">!=</span><span class="nx">b</span><span class="p">){</span>
					<span class="nb">document</span><span class="p">.</span><span class="nx">title</span> <span class="o">+=</span> <span class="s1">'2'</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>

		<span class="p">}</span>

		<span class="kd">function</span> <span class="nx">elContains</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){</span> <span class="c1">//判断两个元素是否是嵌套关系，看a是否包含b</span>
			<span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">contains</span> <span class="p">?</span> <span class="nx">a</span> <span class="o">!=</span> <span class="nx">b</span> <span class="o">&amp;&amp;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="p">:</span> <span class="o">!!</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">compareDocumentPosition</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">16</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>图片的放大镜效果</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>图片放大镜效果<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nt">html</span><span class="o">,</span> <span class="nt">body</span> <span class="p">{</span><span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;}</span>
		<span class="nf">#div1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">180px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">180px</span><span class="p">;</span> <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;}</span>
		<span class="nf">#div1</span> <span class="nt">span</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">yellow</span><span class="p">;</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.5</span><span class="p">;</span> <span class="nl">filter</span><span class="p">:</span> <span class="n">alpha</span><span class="p">(</span><span class="n">opacity</span><span class="err">=</span><span class="m">50</span><span class="p">);</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;}</span>
		<span class="nf">#mask</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">180px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">180px</span><span class="p">;</span> <span class="nl">background</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">filter</span><span class="p">:</span> <span class="n">alpha</span><span class="p">(</span><span class="n">oapcity</span><span class="err">=</span><span class="m">0</span><span class="p">);}</span>
		<span class="nf">#div2</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">250px</span><span class="p">;</span> <span class="nl">top</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span> <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;}</span>
		<span class="nf">#div2</span> <span class="nt">img</span> <span class="p">{</span><span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
	<span class="c1">//这里的onmouseover和onmouseout是用过CSS方式解决的问题，方法是添加了一个透明的层</span>
	
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">oDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">oSpan</span> <span class="o">=</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'span'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
			<span class="kd">var</span> <span class="nx">oDiv2</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div2'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">img2</span> <span class="o">=</span> <span class="nx">oDiv2</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'img'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>

			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmouseenter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> 
				<span class="nx">oSpan</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'block'</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmouseleave</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="nx">oSpan</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">'none'</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="nx">oDiv</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">L</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetLeft</span> <span class="o">-</span> <span class="nx">oSpan</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">T</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetTop</span> <span class="o">-</span> <span class="nx">oSpan</span><span class="p">.</span><span class="nx">offsetHeight</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

				<span class="k">if</span><span class="p">(</span><span class="nx">L</span> <span class="o">&lt;</span><span class="err">　</span><span class="mi">0</span><span class="p">){</span>
					<span class="nx">L</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">L</span> <span class="o">&gt;</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">-</span> <span class="nx">oSpan</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">){</span>
					<span class="nx">L</span> <span class="o">=</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">-</span> <span class="nx">oSpan</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="k">if</span><span class="p">(</span><span class="nx">T</span> <span class="o">&lt;</span><span class="err">　</span><span class="mi">0</span><span class="p">){</span>
					<span class="nx">T</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">T</span> <span class="o">&gt;</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetHeight</span> <span class="o">-</span> <span class="nx">oSpan</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">){</span>
					<span class="nx">T</span> <span class="o">=</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetHeight</span> <span class="o">-</span> <span class="nx">oSpan</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">;</span>
				<span class="p">}</span>

				<span class="nx">oSpan</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">L</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
				<span class="nx">oSpan</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">T</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>

				<span class="kd">var</span> <span class="nx">scaleX</span> <span class="o">=</span> <span class="nx">L</span> <span class="o">/</span> <span class="p">(</span><span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">-</span> <span class="nx">oSpan</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">);</span>
				<span class="kd">var</span> <span class="nx">scaleY</span> <span class="o">=</span> <span class="nx">T</span> <span class="o">/</span> <span class="p">(</span><span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetHeight</span> <span class="o">-</span> <span class="nx">oSpan</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">);</span>

				<span class="nx">img2</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="o">-</span><span class="nx">scaleX</span> <span class="o">*</span> <span class="p">(</span><span class="nx">img2</span><span class="p">.</span><span class="nx">offsetWidth</span> <span class="o">-</span> <span class="nx">oDiv2</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
				<span class="nx">img2</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="o">-</span><span class="nx">scaleY</span> <span class="o">*</span> <span class="p">(</span><span class="nx">img2</span><span class="p">.</span><span class="nx">offsetHeight</span> <span class="o">-</span> <span class="nx">oDiv2</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"b2.jpg"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;span&gt;&lt;/span&gt;</span>
		<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"mask"</span><span class="nt">&gt;&lt;/div&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div2"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"b1.jpg"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="section-15">苹果菜单</h3>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>苹果菜单<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="c1">// Math.pow(3, 2); //3的平方 </span>
		<span class="c1">// Math.pow(2, 3); //2的立方</span>
		<span class="c1">// Math.sqrt(9); //9的开方</span>
		<span class="c1">// Math.pow(9, 1/3); //9的开立方</span>
	<span class="nt">&lt;/script&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nt">html</span><span class="o">,</span> <span class="nt">body</span> <span class="p">{</span><span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;}</span>
		<span class="nf">#div1</span> <span class="nt">img</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">64px</span><span class="p">;}</span>
		<span class="nf">#div1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span> <span class="nl">bottom</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;}</span>
		<span class="nt">input</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">300px</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="kd">var</span> <span class="nx">aInput</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">oDiv</span><span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'div1'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">aImg</span> <span class="o">=</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'img'</span><span class="p">);</span>

			<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>

				<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aImg</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
					<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">aImg</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">offsetLeft</span> <span class="o">+</span> <span class="nx">aImg</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">offsetWidth</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
					<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">aImg</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">offsetTop</span> <span class="o">+</span> <span class="nx">aImg</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">offsetHeight</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="nx">oDiv</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>

					<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="nx">x</span><span class="p">;</span>
					<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="nx">y</span><span class="p">;</span>

					<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">));</span>

					<span class="kd">var</span> <span class="nx">scale</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">c</span><span class="o">/</span><span class="mi">300</span><span class="p">;</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">scale</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">){</span>
						<span class="nx">scale</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">;</span>
					<span class="p">}</span>


					<span class="nx">aInput</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">'x轴：'</span> <span class="o">+</span> <span class="nx">x</span> <span class="o">+</span> <span class="s1">'，Y轴：'</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">+</span> <span class="s1">'，与鼠标距离：'</span> <span class="o">+</span> <span class="nx">c</span><span class="p">;</span>
					<span class="nx">aImg</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">scale</span> <span class="o">*</span> <span class="mi">128</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
					<span class="nx">aImg</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">scale</span> <span class="o">*</span> <span class="mi">128</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>

				<span class="p">}</span>
			<span class="p">}</span>

				
		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"div1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"images/1.png"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"images/2.png"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"images/3.png"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"images/4.png"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"images/5.png"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>	
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h3 id="section-16">妙味照片墙效果</h3>

<ul>
  <li>可拖拽换为</li>
  <li>可随机排序</li>
</ul>

<p><strong>找最小值和位置</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>找最小值和位置<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">34</span><span class="p">,</span> <span class="mi">71</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">934</span><span class="p">,</span> <span class="mi">10</span><span class="p">];</span>

		<span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>
		<span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

		<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
			<span class="k">if</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">&lt;</span> <span class="nx">value</span><span class="p">){</span>
				<span class="nx">value</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
				<span class="nx">index</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

		<span class="nx">alert</span><span class="p">(</span><span class="s1">'最小值：'</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s1">'，位置：'</span> <span class="o">+</span> <span class="nx">index</span><span class="p">);</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p><strong>照片墙的实现</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;title&gt;</span>妙味照片墙效果<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;style&gt;</span>
		<span class="nt">html</span><span class="o">,</span> <span class="nt">body</span> <span class="p">{</span><span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span> <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;}</span>
		<span class="nf">#ul1</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">660px</span><span class="p">;</span> <span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">10px</span> <span class="nb">auto</span><span class="p">;}</span>
		<span class="nt">li</span> <span class="p">{</span><span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span> <span class="nl">height</span><span class="p">:</span> <span class="m">150px</span><span class="p">;</span> <span class="nl">margin</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span> <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span> <span class="nl">list-style</span><span class="p">:</span> <span class="nb">none</span><span class="p">;}</span>
	<span class="nt">&lt;/style&gt;</span>
	<span class="nt">&lt;script&gt;</span>
		<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
			<span class="c1">//布局转换，将浮动布局转成定位布局</span>
			<span class="kd">var</span> <span class="nx">aLi</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
			<span class="kd">var</span> <span class="nx">izIndex</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
			<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
			<span class="kd">var</span> <span class="nx">oInput</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'input1'</span><span class="p">);</span>

			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aLi</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">offsetLeft</span><span class="p">,</span> <span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">offsetTop</span><span class="p">]);</span>
			<span class="p">}</span>

			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aLi</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span> <span class="o">=</span> <span class="s1">'absolute'</span><span class="p">;</span>
				<span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
				<span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
				<span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">margin</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//去掉影响定位的值。例如margin、padding都已经算到left和top里面了，所以不需要再算进去</span>
			<span class="p">}</span>

			<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aLi</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
				<span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
				<span class="nx">drag</span><span class="p">(</span><span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
			<span class="p">}</span>

			<span class="nx">oInput</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
				<span class="kd">var</span> <span class="nx">randomArr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">];</span>
				<span class="nx">randomArr</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">n1</span><span class="p">,</span> <span class="nx">n2</span><span class="p">){</span>
					<span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">;</span>
				<span class="p">})</span>
				<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aLi</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
					<span class="nx">startMove</span><span class="p">(</span><span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="p">{</span><span class="na">left</span><span class="p">:</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">randomArr</span><span class="p">[</span><span class="nx">i</span><span class="p">]][</span><span class="mi">0</span><span class="p">],</span> <span class="na">top</span><span class="p">:</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">randomArr</span><span class="p">[</span><span class="nx">i</span><span class="p">]][</span><span class="mi">1</span><span class="p">]});</span>
					<span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">randomArr</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="kd">function</span> <span class="nx">drag</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">disX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">disY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

				<span class="nx">obj</span><span class="p">.</span><span class="nx">onmousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
					<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
					<span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">zIndex</span> <span class="o">=</span> <span class="nx">izIndex</span> <span class="o">++</span><span class="p">;</span>
					<span class="nx">disX</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>
					<span class="nx">disY</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>

					<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ev</span><span class="p">){</span>
						<span class="kd">var</span> <span class="nx">ev</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">||</span> <span class="nb">window</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
						<span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">-</span> <span class="nx">disX</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
						<span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">top</span> <span class="o">=</span> <span class="nx">ev</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">-</span> <span class="nx">disY</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>

						<span class="c1">// for(var i=0; i&lt;aLi.length; i++){</span>
						<span class="c1">// 	if(pz(obj, aLi[i]) &amp;&amp; obj != aLi[i]){</span>
						<span class="c1">// 		aLi[i].style.border = '2px solid red';</span>
						<span class="c1">// 	} else {</span>
						<span class="c1">// 		aLi[i].style.border = '';</span>
						<span class="c1">// 	}</span>
						<span class="c1">// }</span>

						<span class="kd">var</span> <span class="nx">nL</span> <span class="o">=</span> <span class="nx">nearLi</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
						<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aLi</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
							<span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">border</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
						<span class="p">}</span>

						<span class="k">if</span><span class="p">(</span><span class="nx">nL</span><span class="p">){</span>
							<span class="nx">nL</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">border</span> <span class="o">=</span> <span class="s1">'2px solid red'</span><span class="p">;</span>
						<span class="p">}</span>
						

					<span class="p">}</span>

					<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
						<span class="nb">document</span><span class="p">.</span><span class="nx">onmousemove</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
						<span class="nb">document</span><span class="p">.</span><span class="nx">onmouseup</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

						<span class="kd">var</span> <span class="nx">nL</span> <span class="o">=</span> <span class="nx">nearLi</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
						<span class="kd">var</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

						<span class="k">if</span><span class="p">(</span><span class="nx">nL</span><span class="p">){</span>
							<span class="nx">startMove</span><span class="p">(</span><span class="nx">nL</span><span class="p">,</span> <span class="p">{</span><span class="na">left</span><span class="p">:</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">obj</span><span class="p">.</span><span class="nx">index</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="na">top</span><span class="p">:</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">obj</span><span class="p">.</span><span class="nx">index</span><span class="p">][</span><span class="mi">1</span><span class="p">]});</span>

							<span class="nx">startMove</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span><span class="na">left</span><span class="p">:</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">nL</span><span class="p">.</span><span class="nx">index</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="na">top</span><span class="p">:</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">nL</span><span class="p">.</span><span class="nx">index</span><span class="p">][</span><span class="mi">1</span><span class="p">]});</span>
							<span class="nx">nL</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">border</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

							<span class="nx">tmp</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">index</span><span class="p">;</span>
							<span class="nx">obj</span><span class="p">.</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">nL</span><span class="p">.</span><span class="nx">index</span><span class="p">;</span>
							<span class="nx">nL</span><span class="p">.</span><span class="nx">index</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">;</span>
						<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
							<span class="nx">startMove</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span><span class="na">left</span><span class="p">:</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">obj</span><span class="p">.</span><span class="nx">index</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="na">top</span><span class="p">:</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">obj</span><span class="p">.</span><span class="nx">index</span><span class="p">][</span><span class="mi">1</span><span class="p">]});</span>
						<span class="p">}</span>
						
					<span class="p">}</span>

					<span class="k">return</span> <span class="kc">false</span><span class="p">;</span> 
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="kd">function</span> <span class="nx">nearLi</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
				<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">aLi</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
					<span class="k">if</span><span class="p">(</span><span class="nx">pz</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span> <span class="o">!=</span> <span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">]){</span>
						
						<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">jl</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">aLi</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>

						<span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">value</span><span class="p">){</span>
							<span class="nx">value</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
							<span class="nx">index</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span>

				<span class="k">if</span><span class="p">(</span><span class="nx">index</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
					<span class="k">return</span> <span class="nx">aLi</span><span class="p">[</span><span class="nx">index</span><span class="p">];</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
					<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="kd">function</span> <span class="nx">jl</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">obj1</span><span class="p">.</span><span class="nx">offsetLeft</span> <span class="o">-</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">obj1</span><span class="p">.</span><span class="nx">offsetTop</span> <span class="o">-</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>

				<span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="o">*</span><span class="nx">b</span><span class="p">);</span>
			<span class="p">}</span>

			<span class="kd">function</span> <span class="nx">pz</span><span class="p">(</span><span class="nx">obj1</span><span class="p">,</span> <span class="nx">obj2</span><span class="p">){</span>
				<span class="kd">var</span> <span class="nx">L1</span> <span class="o">=</span> <span class="nx">obj1</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">R1</span> <span class="o">=</span> <span class="nx">obj1</span><span class="p">.</span><span class="nx">offsetLeft</span> <span class="o">+</span> <span class="nx">obj1</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">T1</span> <span class="o">=</span> <span class="nx">obj1</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">B1</span> <span class="o">=</span> <span class="nx">obj1</span><span class="p">.</span><span class="nx">offsetTop</span> <span class="o">+</span> <span class="nx">obj1</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">;</span>

				<span class="kd">var</span> <span class="nx">L2</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">R2</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">offsetLeft</span> <span class="o">+</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">offsetWidth</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">T2</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">offsetTop</span><span class="p">;</span>
				<span class="kd">var</span> <span class="nx">B2</span> <span class="o">=</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">offsetTop</span> <span class="o">+</span> <span class="nx">obj2</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">;</span>

				<span class="k">if</span><span class="p">(</span><span class="nx">R1</span> <span class="o">&lt;</span> <span class="nx">L2</span> <span class="o">||</span> <span class="nx">L1</span> <span class="o">&gt;</span> <span class="nx">R2</span> <span class="o">||</span> <span class="nx">B1</span> <span class="o">&lt;</span> <span class="nx">T2</span> <span class="o">||</span> <span class="nx">T1</span> <span class="o">&gt;</span> <span class="nx">B2</span><span class="p">){</span> <span class="c1">//碰不到的情况</span>
					<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">//其余都是碰到的情况</span>
					<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>

			<span class="c1">//以下是运动框架move.js的代码</span>
			<span class="kd">function</span> <span class="nx">css</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">attr</span><span class="p">){</span>
			    <span class="k">if</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">){</span>
			        <span class="k">return</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">currentStyle</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			        <span class="k">return</span> <span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="kc">false</span><span class="p">)[</span><span class="nx">attr</span><span class="p">];</span>
			    <span class="p">}</span>
			<span class="p">}</span>

			<span class="kd">function</span> <span class="nx">startMove</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">json</span><span class="p">,</span> <span class="nx">fn</span><span class="p">){</span>
			    <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">iTimer</span><span class="p">);</span>
			    <span class="kd">var</span> <span class="nx">iCur</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			    <span class="kd">var</span> <span class="nx">iSpeed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//速度初始化</span>
			    
			    <span class="nx">obj</span><span class="p">.</span><span class="nx">iTimer</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
			    
			        <span class="kd">var</span> <span class="nx">iBtn</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

			        <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">json</span><span class="p">){</span>
			            
			            <span class="kd">var</span> <span class="nx">iTarget</span> <span class="o">=</span> <span class="nx">json</span><span class="p">[</span><span class="nx">attr</span><span class="p">];</span>
			            
			            <span class="k">if</span><span class="p">(</span><span class="nx">attr</span> <span class="o">==</span> <span class="s1">'opacity'</span><span class="p">){</span>
			                <span class="nx">iCur</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">css</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s1">'opacity'</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">);</span>
			            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			                <span class="nx">iCur</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">css</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">attr</span><span class="p">));</span>
			            <span class="p">}</span>
			            
			            <span class="nx">iSpeed</span> <span class="o">=</span> <span class="p">(</span><span class="nx">iTarget</span> <span class="o">-</span> <span class="nx">iCur</span><span class="p">)</span> <span class="o">/</span> <span class="mi">8</span><span class="p">;</span>
			            <span class="nx">iSpeed</span> <span class="o">=</span> <span class="nx">iSpeed</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">iSpeed</span><span class="p">)</span> <span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">iSpeed</span><span class="p">);</span>
			            
			            <span class="k">if</span><span class="p">(</span><span class="nx">iCur</span> <span class="o">!=</span> <span class="nx">iTarget</span><span class="p">){</span>
			                <span class="nx">iBtn</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
			                <span class="k">if</span><span class="p">(</span><span class="nx">attr</span> <span class="o">==</span> <span class="s1">'opacity'</span><span class="p">){</span>
			                    <span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">=</span> <span class="p">(</span><span class="nx">iCur</span> <span class="o">+</span> <span class="nx">iSpeed</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>
			                    <span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">filter</span> <span class="o">=</span> <span class="s1">'alpha(opacity='</span> <span class="o">+</span> <span class="p">(</span><span class="nx">iCur</span> <span class="o">+</span> <span class="nx">iSpeed</span><span class="p">)</span> <span class="o">+</span> <span class="s1">')'</span><span class="p">;</span>
			                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			                    <span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nx">iCur</span> <span class="o">+</span> <span class="nx">iSpeed</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">;</span>
			                <span class="p">}</span>
			            <span class="p">}</span>
			        <span class="p">}</span>

			        <span class="k">if</span><span class="p">(</span><span class="nx">iBtn</span><span class="p">){</span>
			            <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">iTimer</span><span class="p">);</span>
			            <span class="nx">fn</span> <span class="o">&amp;&amp;</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
			        <span class="p">}</span>
			    
			    <span class="p">},</span> <span class="mi">30</span><span class="p">);</span>
			<span class="p">}</span>			

		<span class="p">}</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"随机"</span> <span class="na">id=</span><span class="s">"input1"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">"ul1"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/1.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/2.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/3.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/4.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/5.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/1.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/2.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/3.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
		<span class="nt">&lt;li&gt;&lt;img</span> <span class="na">src=</span><span class="s">"photo/4.jpg"</span><span class="nt">&gt;&lt;/li&gt;</span>
	<span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<h2 id="section-17">抄袭链接：</h2>

<p>本文完全转自<a href="http://fantaghiro.github.io/">fantaghiro的博客</a>，供自己学习使用，并没其他用途，如果侵犯了您的权益，我一定会删除并向您道歉。很抱歉的是没有在您的github上找到您的联系方式，不能在发布之前给您说一声，真的很抱歉。</p>

                    
    <ul class="pagination">
        
        <li class="previous">
            <a href="/javascript/2015/10/09/JavaScript-closure.html">Previous</a>
        </li>
        
        
         <li class="next">
            <a href="/javascript/2015/10/10/what's-this.html">Next</a>
        </li>
        
    </ul>
</div>

            

<div class="catalog-menu">
    <h3>目&nbsp;&nbsp;录</h3>
    <div class="catalog-menu-content"></div>
</div>


<div class="comment">
    <span>Comments</span>
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="/javascript/2015/10/10/JS-OOP" data-title="（转）妙味课堂——JS面向对象" data-url="limingyang2012.github.io/javascript/2015/10/10/JS-OOP.html"></div>
    <!-- 多说评论框 end -->
</div>



                   
        </div>       
        
    </div>
</div>



<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    var duoshuoQuery = {short_name:"limingyang2012"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] 
            || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
</script>
<!-- 多说公共JS代码 end -->



    
        <!--回到顶部-->
        <a id="returnTop"></a>

    <!-- FOOTER -->
<div class="footer" >
    <p class="copyright">
       	&copy; 
        <span itemprop="copyrightYear">2016</span> 
        <span itemprop="name">&nbsp;limingyang2012</span>
    </p>
</div>
    </div>

    <script src="/statics/js/jquery.min.js"></script>
    <script src="/statics/js/index.js"></script>
    

</body>
</html>
