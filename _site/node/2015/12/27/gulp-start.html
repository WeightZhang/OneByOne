<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>LMY-HOME</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">

    <!-- highlight.js -->
    <link rel="stylesheet" href="//libs.cncdn.cn/highlight.js/8.4/styles/tomorrow.min.css">
    <script src="//libs.cncdn.cn/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- CSS -->                       
    <link rel="stylesheet" href="/statics/css/index.css">
</head>

<body>
    
    <div class="wrap">          
    <!--HEADER-->
<div class="header">
    <div class="logo"> <a href="/index.html"><img src="/images/logo.png" alt=""></a> </div>
    <div class="cssmenu">
        <ul>
            <li><a href="/index.html">HOME</a></li>       
            <li><a href="/blog/">BLOG</a></li>
            <li><a href="/demo/">DEMO</a></li>
            <li><a href="/about/">ABOUT</a></li>
            <li><a href="http://limingyang2012.github.io/cv/">RESUME</a></li>
        </ul>
    </div>
    <div class="top-nav">
        <nav class="clearfix">
            <ul>
                <li><a href="/index.html">HOME</a></li>
                <li><a href="/blog/">BLOG</a></li>
                <li><a href="/demo/">DEMO</a></li>
                <li><a href="/about/">ABOUT</a></li>
                <li><a href="http://limingyang2012.github.io/cv/">RESUME</a></li>
            </ul>
        <a href="#" id="pull">MENU</a> 
        </nav>
    </div>
</div>    
        <div id="container">
    <div class="content">
        <div class="page">
            <div class="post-content">
    <div class="title"><h1>gulp简单使用</h1></div>
    <p class="post-date">Dec 27, 2015</p>
                    
     <p>gulp简单使用方法</p>

<hr />

<ul id="markdown-toc">
  <li><a href="#gulp" id="markdown-toc-gulp">Gulp？</a></li>
  <li><a href="#nodejs" id="markdown-toc-nodejs">Node.js</a></li>
  <li><a href="#gulp-1" id="markdown-toc-gulp-1">全局安装Gulp</a></li>
  <li><a href="#gulp-2" id="markdown-toc-gulp-2">使用Gulp</a></li>
  <li><a href="#section" id="markdown-toc-section">参考资料</a></li>
</ul>

<h3 id="gulp">Gulp？</h3>

<p><a href="http://gulpjs.com/">Gulp</a>是一个构建系统，开发者可以使用它在网站开发过程中自动执行常见任务。Gulp是基于Node.js构建的，因此Gulp源文件和你用来定义任务的Gulp文件都被写进了JavaScript里。前端开发者可以使用它来处理常见任务：</p>

<ul>
  <li>搭建web服务器</li>
  <li>文件保存时自动重载浏览器</li>
  <li>使用预处理器如Sass、LESS</li>
  <li>优化资源，比如压缩CSS、JavaScript、压缩图片</li>
</ul>

<h3 id="nodejs">Node.js</h3>

<p><a href="http://nodejs.cn/">Node.js</a>就是运行在服务端的 JavaScript。Node.js 是一个基于Chrome JavaScript 运行时建立的一个平台。Node.js是一个事件驱动I/O服务端JavaScript环境，基于Google的V8引擎，V8引擎执行Javascript的速度非常快，性能非常好。Gulp和所有插件都通过JavaScript编写并依托Node.js平台。作为前端工程师你最好了解简单的Node.js。</p>

<p>下面提供一些Node.js的入门教程，当然你暂时不用去看，等你有足够的时间和精力的时候建议你去学习下：</p>

<p><a href="https://cnodejs.org/getstart">Node初学者入门，一本全面的NodeJS教程</a></p>

<p><a href="http://ourjs.com/detail/529ca5950cb6498814000005">Node.js 入门</a></p>

<p><a href="http://www.welefen.com/ppt/Node-Primer.htm#0">Node.js入门By Welefen Lee</a></p>

<p><a href="http://nodeapi.ucdok.com/#/api/">Node.js v4.2.2 手册 &amp; 文档</a></p>

<p>有精力最好看英文的API。</p>

<p>下面回到我们的重点gulp</p>

<h3 id="gulp-1">全局安装Gulp</h3>

<p>首先我们需要安装Node.js的环境这个就不介绍了。推荐<a href="http://www.runoob.com/nodejs/nodejs-install-setup.html">教程</a>自己安装配置好。</p>

<p>然后在命令行输入</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm install -g gulp
</code></pre>
</div>

<p>就这么简单，安装好在继续后面的。</p>

<h3 id="gulp-2">使用Gulp</h3>

<p>首先，我们新建一个project文件夹，并在该目录下执行<code class="highlighter-rouge">npm init</code>命令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm init
</code></pre>
</div>

<p>npm init命令会为你创建一个package.json文件，这个文件保存着这个项目相关信息。简单说来呢，这个 package.json 文件就是定义了项目的各种元信息，包括项目的名称，git repo 的地址，作者等等。最重要的是，其中定义了我们项目的依赖，这样这个项目在部署时，我们就不必将 node_modules 目录也上传到服务器，服务器在拿到我们的项目时，只需要执行 npm install，则 npm 会自动读取 package.json 中的依赖并安装在项目的 node_modules 下面，然后程序就可以在服务器上跑起来了。现在随便填写就好了。</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"app.js"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ISC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>现在我们创建一个Gulp任务来编译<a href="https://github.com/sindresorhus/gulp-ruby-sass">sass</a>。首先创建一个名为gulpfile.js的文件，这是定义Gulp任务的地方，它可以通过gulp命令来运行，接着把下面的代码放到gulpfile.js文件里面。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var gulp = require('gulp');
var sass = require('gulp-ruby-sass');

gulp.task('sass', function () {
  return sass('app/css/index.scss')
    .on('error', sass.logError)
    .pipe(gulp.dest('app/css/'));
});
</code></pre>
</div>

<p>接下来还需要安装上面使用的依赖gulp和sass。运行下面命令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm install gulp gulp-ruby-sass --save-dev
</code></pre>
</div>

<p>当然如果自己临时使用时可以省去–save-dev的</p>

<blockquote>
  <p>注意gulp-ruby-sass和gulp-sass的区别，前者需要需要ruby环境，需要生成临时目录和临时文件。因为之前使用的是gulp-sass这里使用gulp-ruby-sass玩玩。没有本质的区别。注意下就好了，当然了代码是有点区别的。<a href="https://github.com/dlmanning/gulp-sass">gulp-sass</a>代码参考下这里的readme。其实都很简单的。</p>
</blockquote>

<p>我们可以看见project目录中生成了文件node_modules。而且project.json中引入了依赖</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"devDependencies": {
    "gulp": "^3.9.0",
    "gulp-ruby-sass": "^2.0.6"
  }
</code></pre>
</div>

<p>测试一下命令行输入</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gulp sass
</code></pre>
</div>

<p>你会发现css文件夹下面生成了index.css文件，运行index.html可以查效果。</p>

<p>其实说到这里gulp也基本讲完了，因为其他操作都大同小异，查看帮助文档就能解决了。主要是入门问题，下面给出常用的帮助文档。</p>

<ul>
  <li>编译Sass <a href="https://github.com/sindresorhus/gulp-ruby-sass">gulp-ruby-sass</a>与<a href="https://github.com/dlmanning/gulp-sass">gulp-sass</a></li>
  <li>Autoprefixer <a href="https://github.com/Metrime/gulp-autoprefixer">gulp-autoprefixer</a></li>
  <li>缩小化(minify)CSS <a href="https://github.com/murphydanger/gulp-minify-css">gulp-minify-css</a></li>
  <li>JSHint <a href="https://github.com/spalger/gulp-jshint">gulp-jshint</a></li>
  <li>拼接 <a href="https://github.com/contra/gulp-concat">gulp-concat</a></li>
  <li>丑化(Uglify) <a href="https://github.com/terinjokes/gulp-uglify">gulp-uglify</a></li>
  <li>图片压缩 <a href="https://github.com/sindresorhus/gulp-imagemin">gulp-imagemin</a></li>
  <li>即时重整(LiveReload) <a href="https://github.com/vohof/gulp-livereload">gulp-livereload</a></li>
  <li>清理档案 <a href="https://github.com/peter-vilja/gulp-clean">gulp-clean</a></li>
  <li>图片快取，只有更改过得图片会进行压缩 <a href="https://github.com/jgable/gulp-cache/">gulp-cache</a></li>
  <li>更动通知 <a href="https://github.com/mikaelbr/gulp-notify">gulp-notify</a></li>
</ul>

<h3 id="section">参考资料</h3>
<p>1、<a href="http://www.gulpjs.com.cn/">gulp中文网</a></p>

<p>2、<a href="http://www.open-open.com/lib/view/open1417068223049.html">gulp入门指南</a></p>

<p>3、<a href="http://www.w3ctrain.com/2015/12/22/gulp-for-beginners/?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io">Gulp新手入门教程</a></p>

<p>4、<a href="http://www.imooc.com/article/2364">Gulp开发教程</a></p>

                    
    <ul class="pagination">
        
        <li class="previous">
            <a href="/htmlcss/2015/12/24/nth-child.html">Previous</a>
        </li>
        
        
         <li class="next">
            <a href="/javascript/2016/01/12/5-array-methods-that-you-should-use-today.html">Next</a>
        </li>
        
    </ul>
</div>

            

<div class="catalog-menu">
    <h3>目&nbsp;&nbsp;录</h3>
    <div class="catalog-menu-content"></div>
</div>


<div class="comment">
    <span>Comments</span>
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="/node/2015/12/27/gulp-start" data-title="gulp简单使用" data-url="limingyang2012.github.io/node/2015/12/27/gulp-start.html"></div>
    <!-- 多说评论框 end -->
</div>



                   
        </div>       
        
    </div>
</div>



<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    var duoshuoQuery = {short_name:"limingyang2012"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] 
            || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
</script>
<!-- 多说公共JS代码 end -->



    
        <!--回到顶部-->
        <a id="returnTop"></a>

    <!-- FOOTER -->
<div class="footer" >
    <p class="copyright">
       	&copy; 
        <span itemprop="copyrightYear">2016</span> 
        <span itemprop="name">&nbsp;limingyang2012</span>
    </p>
</div>
    </div>

    <script src="/statics/js/jquery.min.js"></script>
    <script src="/statics/js/index.js"></script>
    

</body>
</html>
